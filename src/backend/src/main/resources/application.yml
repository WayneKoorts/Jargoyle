spring:
  application:
    name: jargoyle

  # --- Database ---
  # Database configuration is profile-driven. The "dev" profile
  # (application-dev.yml) provides the datasource, JPA, and Flyway settings
  # for local development with the PostgreSQL container in compose.yml.
  #
  # For production, set these environment variables instead:
  #   SPRING_DATASOURCE_URL, SPRING_DATASOURCE_USERNAME, SPRING_DATASOURCE_PASSWORD
  #
  # In the default (no-profile) case, DataSource and Hibernate auto-configuration
  # is disabled so the application starts without a database connection.

  # --- Security ---
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID}
            client-secret: ${GOOGLE_CLIENT_SECRET}
            scope:
              - openid
              - email
              - profile

  autoconfigure:
    exclude:
      - org.springframework.boot.jdbc.autoconfigure.DataSourceAutoConfiguration
      - org.springframework.boot.hibernate.autoconfigure.HibernateJpaAutoConfiguration
